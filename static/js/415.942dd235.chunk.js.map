{"version":3,"file":"static/js/415.942dd235.chunk.js","mappings":"wKAAaA,EAAS,WACpB,OACE,iCACE,gBAAKC,UAAU,8BACf,gBACEA,UAAU,mEACVC,MAAO,CAAEC,QAAS,QAASC,OAAQ,SAFrC,UAIE,gBAAKH,UAAU,4BAAf,UACE,iBAAMA,UAAU,kBAAhB,8BAKT,C,gKCHKI,EAAe,CACnBC,MAAO,GACPC,QAAS,GACTC,MALA,kKAQWC,EAAc,WACzB,IAAMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwBF,EAAAA,EAAAA,UAASP,GAAjC,eAAOU,EAAP,KAAaC,EAAb,KAEMC,EAAe,SAAAC,GACnB,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,GAAQ,SAAAM,GAAI,yBAAUA,GAAV,cAAiBF,EAAOC,GAAxB,GACb,EAyBD,OACE,gCACGR,IAAa,SAACb,EAAA,EAAD,KAEd,kBAAMuB,OAAO,IAAIC,SAzBA,SAAAN,GACnBA,EAAMO,iBAEUC,OAAOC,OAAOZ,GAAMa,MAAK,SAAAC,GAAI,OAAKA,CAAL,IAE3CC,EAAAA,GAAAA,MAAY,8BAIdhB,GAAa,IACbiB,EAAAA,EAAAA,KAAqB,kBAAKhB,GAAN,IAAYiB,cAAejB,EAAKP,SACjDyB,MAAK,SAAAC,GACJxB,EAAS,UAAD,OAAWwB,EAAKC,IAAM,CAAEC,MAAO,CAAEC,eAAe,KACxDP,EAAAA,GAAAA,QAAc,4CACf,IACAQ,OAAM,WACLR,EAAAA,GAAAA,MAAY,wBACb,IACAS,SAAQ,kBAAMzB,GAAa,EAAnB,IACZ,EAMG,WACE,gBAAKb,UAAU,OAAf,UACE,mBAAOA,UAAU,qBAAjB,WACE,uCACA,kBACEoB,MAAON,EAAKT,MACZkC,SAAUvB,EACVwB,KAAK,OACLrB,KAAK,QACLnB,UAAU,eACVyC,YAAY,yBAKlB,gBAAKzC,UAAU,OAAf,UACE,mBAAOA,UAAU,qBAAjB,WACE,yCACA,qBACEoB,MAAON,EAAKR,QACZiC,SAAUvB,EACVhB,UAAU,eACVmB,KAAK,UACLuB,KAAK,KACLD,YAAY,uBAKlB,iBAAKzC,UAAU,OAAf,WACE,mBAAOA,UAAU,qBAAjB,WACE,yDACA,kBACEwC,KAAK,OACLrB,KAAK,QACLC,MAAON,EAAKP,MACZgC,SAAUvB,EACVhB,UAAU,eACVyC,YAAY,4CAIf3B,EAAKP,QAAS,gBAAKoC,IAAK7B,EAAKP,MAAOP,UAAU,gBAAgB4C,IAAI,GAAG3C,MAAO,CAAEE,OAAQ,eAGzF,iBAAKH,UAAU,cAAf,WACE,mBAAQwC,KAAK,SAASxC,UAAU,iCAAiC6C,QAzErD,kBAAM9B,EAAQX,EAAd,EAyEZ,yBAIA,mBAAQoC,KAAK,SAASxC,UAAU,kBAAhC,4BAOT,C","sources":["components/Loader/Loader.jsx","pages/NewPostPage/NewPostPage.jsx"],"sourcesContent":["export const Loader = () => {\n  return (\n    <>\n      <div className=\"modal-backdrop fade show\" />\n      <div\n        className=\"modal fade show d-flex align-items-center justify-content-center\"\n        style={{ display: 'block', height: '100vh' }}\n      >\n        <div className=\"spinner-border text-light\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { useState } from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { Loader } from '../../components/Loader';\nimport { createNewPostService } from '../../services/posts.service';\n\nconst img =\n  'https://images.unsplash.com/photo-1663620779258-0d48644b5193?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2970&q=80';\n\nconst initialState = {\n  title: '',\n  content: '',\n  image: img,\n};\n\nexport const NewPostPage = () => {\n  const navigate = useNavigate();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [form, setForm] = useState(initialState);\n\n  const handleChange = event => {\n    const { name, value } = event.target;\n    setForm(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleReset = () => setForm(initialState);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const isEmpty = Object.values(form).some(item => !item);\n    if (isEmpty) {\n      toast.error('Fill all required fields!');\n      return;\n    }\n\n    setIsLoading(true);\n    createNewPostService({ ...form, preview_image: form.image })\n      .then(post => {\n        navigate(`/posts/${post.id}`, { state: { isPostCreated: true } });\n        toast.success('You have successfully created a new post!');\n      })\n      .catch(() => {\n        toast.error('Something went wrong!');\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      <form action=\"#\" onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Post title</p>\n            <input\n              value={form.title}\n              onChange={handleChange}\n              type=\"text\"\n              name=\"title\"\n              className=\"form-control\"\n              placeholder=\"Post title ...\"\n            />\n          </label>\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Post content</p>\n            <textarea\n              value={form.content}\n              onChange={handleChange}\n              className=\"form-control\"\n              name=\"content\"\n              rows=\"10\"\n              placeholder=\"Post content\"\n            />\n          </label>\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Post image url (large image)</p>\n            <input\n              type=\"text\"\n              name=\"image\"\n              value={form.image}\n              onChange={handleChange}\n              className=\"form-control\"\n              placeholder=\"https://example.com/large_image.jpeg\"\n            />\n          </label>\n\n          {form.image && <img src={form.image} className=\"img-thumbnail\" alt=\"\" style={{ height: '200px' }} />}\n        </div>\n\n        <div className=\"d-flex mt-5\">\n          <button type=\"button\" className=\"d-block btn btn-secondary me-4\" onClick={handleReset}>\n            Reset form\n          </button>\n\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit\n          </button>\n        </div>\n      </form>\n    </>\n  );\n};\n"],"names":["Loader","className","style","display","height","initialState","title","content","image","NewPostPage","navigate","useNavigate","useState","isLoading","setIsLoading","form","setForm","handleChange","event","target","name","value","prev","action","onSubmit","preventDefault","Object","values","some","item","toast","createNewPostService","preview_image","then","post","id","state","isPostCreated","catch","finally","onChange","type","placeholder","rows","src","alt","onClick"],"sourceRoot":""}