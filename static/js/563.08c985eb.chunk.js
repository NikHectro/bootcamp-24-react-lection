"use strict";(self.webpackChunkbootcamp_24_react=self.webpackChunkbootcamp_24_react||[]).push([[563],{9767:function(e,s,t){t.r(s),t.d(s,{default:function(){return I}});var a=t(2982),c=t(885),l=t(2791),n=t(9434),i=t(6731),r=t(3711),d=t.p+"static/media/713761_big_8857bc5285.4a8a759c1673e3abd7cb.jpeg",o=t(184),m=function(){return(0,o.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,o.jsx)("img",{src:d,alt:"not found",style:{width:300}}),(0,o.jsx)("p",{className:"my-3",children:"\u0412\u0441\u0435 \u0438\u0434\u0435\u0442 \u043f\u043e \u043f\u043b\u0430\u043d\u0443. \u041f\u043e\u0442\u0435\u0440\u044c \u043d\u0435\u0442!"})]})},u=t(9353),x=t(4522);function h(e,s){return(0,x.Z)(1,arguments),(0,u.Z)(e,Date.now(),s)}var p=t(7689),j=t(4787),f=t(5005),g=function(e){var s,t,a,l=e.post,r=(0,j.aC)().isAuth,d=(0,p.TH)(),m=(0,i.lr)(),u=(0,c.Z)(m,1)[0],x=u.get("page"),g=null!==(s=u.get("search"))&&void 0!==s?s:"",N=(0,n.I0)();return(0,o.jsx)("div",{className:"col-12 col-xl-6 col-xxl-4 mb-4",children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("img",{height:"250px",alt:l.title,src:l.preview_image,className:"card-img-top",style:{objectFit:"cover"}}),(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h5",{className:"card-title",children:l.title}),(0,o.jsx)("p",{className:"card-text",children:(t=l.content,a=60,t.length>a?t.slice(0,a)+"...":t)}),(0,o.jsxs)("ul",{className:"list-group list-group-flush mb-4",children:[(0,o.jsxs)("li",{className:"list-group-item",children:["Views: ",l.views]}),(0,o.jsxs)("li",{className:"list-group-item",children:["Created: ",h(new Date(l.created_at))]})]}),r&&(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){N((0,f.X)({postId:l.id,params:{page:x,search:g}}))},children:"Delete post"}),(0,o.jsx)(i.rU,{to:"/posts/".concat(l.id),state:{from:d},className:"btn btn-link ms-3",children:"Read post"})]})]})]})})},N=t(1413),b=t(4925),v=t(1694),y=t.n(v),w="Skeleton_skeleton__xUXxh",Z=["className"],_=function(e){var s=e.className,t=(0,b.Z)(e,Z);return(0,o.jsx)("div",(0,N.Z)({className:y()(w,s)},t))},k=function(e){var s=e.amount,t=void 0===s?6:s;return(0,o.jsx)("div",{className:"container-fluid g-0 pb-5 mb-5",children:(0,o.jsx)("div",{className:"row",children:(0,a.Z)(Array(t)).map((function(e,s){return(0,o.jsx)("div",{className:"col-12 col-xl-6 col-xxl-4 mb-4",children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)(_,{style:{height:"250px"}}),(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h5",{className:"card-title mb-4",children:(0,o.jsx)(_,{style:{height:"12px"}})}),(0,o.jsxs)("div",{className:"card-text",children:[(0,o.jsx)(_,{className:"my-2"}),(0,o.jsx)(_,{className:"w-50"})]}),(0,o.jsxs)("ul",{className:"list-group list-group-flush my-4",children:[(0,o.jsxs)("li",{className:"list-group-item d-flex align-items-center",children:["Views: ",(0,o.jsx)(_,{className:"w-25 ms-2"})]}),(0,o.jsxs)("li",{className:"list-group-item d-flex align-items-center",children:["Created: ",(0,o.jsx)(_,{className:"w-25 ms-2"})]})]}),(0,o.jsxs)("div",{className:"d-flex mt-3",children:[(0,o.jsx)("div",{className:"btn btn-link disabled",children:"Delete post"}),(0,o.jsx)("div",{className:"btn btn-link disabled ms-3",children:"Read post"})]})]})]})},s)}))})})},C=t.p+"static/media/713761_big_8857bc5285.4a8a759c1673e3abd7cb.jpeg",D=function(){return(0,o.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,o.jsx)("img",{src:C,alt:"not found",style:{width:300}}),(0,o.jsx)("p",{className:"my-3",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a. \u041f\u043e\u0442\u0435\u0440\u044c \u043d\u0435\u0442!"})]})},S=function(){var e,s=(0,i.lr)(),t=(0,c.Z)(s,2),n=t[0],d=t[1],m=(0,l.useMemo)((function(){return(0,a.Z)(n).reduce((function(e,s){var t=(0,c.Z)(s,2),a=t[0],l=t[1];return e[a]=l,e}),{})}),[n]),u=(0,l.useState)(null!==(e=m.search)&&void 0!==e?e:""),x=(0,c.Z)(u,2),h=x[0],p=x[1];return(0,o.jsxs)("form",{className:"input-group mb-3",onSubmit:function(e){e.preventDefault(),d((function(e){return(0,N.Z)((0,N.Z)({},m),{},{search:h,page:1})}))},children:[(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:"Type to search...",value:h,onChange:function(e){return p(e.target.value)}}),(0,o.jsx)(r.z,{type:"submit",children:"Search"})]})},q=t(1079),I=function(){var e,s=(0,n.I0)(),t=(0,n.v9)((function(e){return e.posts})),d=t.posts,u=t.status,x=(0,i.lr)(),h=(0,c.Z)(x,2),p=h[0],j=h[1],N=p.get("page"),b=null!==(e=p.get("search"))&&void 0!==e?e:"";return(0,l.useEffect)((function(){s((0,f.k)({search:b,page:N}))}),[b,N,s]),u===q.q.Loading||u===q.q.Idle?(0,o.jsx)(k,{}):u===q.q.Error?(0,o.jsx)(m,{}):u!==q.q.Success||d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S,{}),(0,o.jsx)("div",{className:"container-fluid g-0 pb-5 mb-5",children:(0,o.jsx)("div",{className:"row",children:d.data.map((function(e){return(0,o.jsx)(g,{post:e},e.id)}))})}),(0,o.jsx)("div",{className:"pagination",children:(0,o.jsx)("div",{className:"btn-group mx-auto py-3",children:(0,a.Z)(Array(d.total_pages)).map((function(e,s){return(0,o.jsx)(r.z,{disabled:s+1===d.page,onClick:function(){return j({page:s+1,search:b})},children:s+1},s)}))})})]}):(0,o.jsx)(D,{})}}}]);
//# sourceMappingURL=563.08c985eb.chunk.js.map